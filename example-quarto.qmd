---
title: "Quarto Example"
author:
    - name: Nan Nourn
      email: nan@msu.edu
      orcid: 0000-0001-5057-0640
      affiliations:
        - name: Michigan State University
        - name: Department of Fisheries & Wildlife
        - name: Ecology, Evolution & Behavior Program
date: last-modified
format: html
fontsize: 0.9em
code-tools: true
code-link: true
toc: true
brand: _brand.yml
---

# Introduction

Let's create a Quarto document detailing all the ways we know how to run simple models to full Bayaesian hierarchical models with various R packages.

## Packages and Set Up

We load all the packages that we will be using. We'll be fitting our statistical models with the Stan, JAGS and NIMBLE coding languages.

```{r}
#| label: packages
#| message: false
library(rstan); library(jagsUI); library(nimble)
library(sf); library(tmap)
library(tidyverse); library(tidybayes)
library(here)
here()
theme_set(theme_minimal())
options(scipen = 10^2)
```

# Linear Regression

## Model of the mean & Normal linear regression

$$
y_i \sim Normal(\mu, \sigma^2)
$$

$$
\mu_i = \alpha + \beta \cdot x_i
$$

### Data generation

Here we simulate wallcrepper data: 

```{r}
set.seed(5)
n <- 16      # number of years
a <- 40      # intercept
b <- 0.5     # slope
sigma2 <- 25 # residual variance
truth <- tibble(alpha = a, beta = b, sigma = sqrt(sigma2))

# data and plot
wallcreeper <- tibble(x = 1:n, eps = rnorm(n, mean = 0, sd = sqrt(sigma2)), y = a + b * x + eps)
wallcreeper |> 
  ggplot(aes(x = x, y = y)) +
  geom_point() +
  geom_line()
```

# JAGS

# Stan

# Nimble

# Discussion